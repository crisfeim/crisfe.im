<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
<style>@import(styles.css)</style>
<codegen-demo x-data="CodeGenCore.fakeClientViewModel()">
    <hstack id="regular-version" class="container">
        <vstack class="left">
            <hstack class="header">
                <spacer></spacer>
                <button id="run-button"
                @click="run"
                :disabled="isRunning"
                :class="{ 'canRun': !isRunning }">
                    @import(play-button.svg)
                </button>

            </hstack>
            <textarea id="specs" x-model="specification"></textarea>
        </vstack>

        <vstack
            class="right"
            :class="{ 'grid-background': status === null && isRunning === false }"
        >
        <hstack class="header">
            @import(activity-indicator.html)
            <spacer></spacer>
            @import(status-indicator.html)
        </hstack>

        <textarea id="generated-code" readonly x-model="generatedCode"></textarea>
        <hstack id="count" x-bind:style="status !== null ? 'opacity: 1' : 'opacity: 0'">
            <spacer></spacer>
            <span id="iteration-count" x-text="`${currentIteration} of ${maxIterations}`"></span>
        </hstack>
        </vstack>

    </hstack>
</codegen-demo>

<script>
@import(core.js)
</script>
